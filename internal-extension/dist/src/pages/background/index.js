console.log("Background!!");async function n(e,r){console.log(e);try{const o=await chrome.cookies.getAll({url:e});console.log(o),r({success:!0,cookies:o})}catch(o){console.error("Error fetching cookies:",o),r({success:!1,error:o})}}chrome.runtime.onMessage.addListener((e,r,o)=>{var t;return console.log("Received message:",e.action),e.action==="logCookies"&&((t=r.tab)!=null&&t.url)&&n(r.tab.url,o),!0});var c={}.HOT_RELOAD_EXTENSION_VITE_PORT?parseInt({}.HOT_RELOAD_EXTENSION_VITE_PORT):8080,s=new WebSocket(`ws://localhost:${c}`),a=()=>setInterval(chrome.runtime.getPlatformInfo,2e4);chrome.runtime.onStartup.addListener(a);a();chrome.runtime.onInstalled.addListener(e=>{e.reason===chrome.runtime.OnInstalledReason.UPDATE&&chrome.tabs.reload()});s.addEventListener("message",e=>{e.data==="file-change"&&chrome.runtime.reload()});
