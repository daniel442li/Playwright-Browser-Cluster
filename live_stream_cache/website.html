<!DOCTYPE html>
<html>
<head>
    <title>Screenshot Stream</title>
    <script type="text/javascript">
        window.onload = function() {
            // Replace 'your_session_id' with the actual session ID
            var session_id = 'test';  
            var source = new EventSource(`http://localhost:8000/stream_screenshot/${session_id}`);

            source.onmessage = function(event) {
                var data = event.data;
                document.getElementById('screenshot').src = 'data:image/jpeg;base64,' + data;
            };

            source.onerror = function(error) {
                console.error('EventSource failed:', error);
                source.close();
            };
        };
    </script>
</head>
<body>
    <h1>Live Screenshot Stream</h1>
    <img id="screenshot" src="" alt="Screenshot will appear here.">
</body>
</html>
